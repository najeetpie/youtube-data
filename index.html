async function getYouTubeMetadata(videoUrl) {
  try {
    const proxyUrl = 'https://corsproxy.io/?'; 
    const response = await fetch(proxyUrl + videoUrl);
    const html = await response.text();

    const titleMatch = html.match(/<meta name="title" content="(.*?)">/);
    const authorMatch = html.match(/<link itemprop="name" content="(.*?)">/);
    const thumbnailMatch = html.match(/<link itemprop="thumbnailUrl" href="(.*?)">/);
    const durationMatch = html.match(/<meta itemprop="duration" content="(.*?)">/);

    const videoInfo = {
      title: titleMatch ? titleMatch[1] : 'Not found',
      author: authorMatch ? authorMatch[1] : 'Not found',
      thumbnail: thumbnailMatch ? thumbnailMatch[1] : 'Not found',
      duration: durationMatch ? durationMatch[1] : 'Not found'
    };

    return videoInfo;
  } catch (error) {
    return { error: 'Failed to fetch video details.' };
  }
}
